<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Formulario de Predicción</title>
</head>
<body>
    <h1>Ingresa los datos para la predicción</h1>
    <form action="/predict" method="post" id="predictForm">
        <label for="Sex">Sexo (male/female):</label><br>
        <input type="text" id="Sex" name="Sex" required><br><br>

        <label for="Ticket">Ticket:</label><br>
        <input type="text" id="Ticket" name="Ticket" required><br><br>

        <label for="Age">Edad:</label><br>
        <input type="number" step="0.1" id="Age" name="Age" required><br><br>

        <label for="Fare">Fare:</label><br>
        <input type="number" step="0.01" id="Fare" name="Fare" required><br><br>

        <label for="Pclass">Clase (1, 2, 3):</label><br>
        <input type="number" id="Pclass" name="Pclass" required><br><br>

        <label for="SibSp">Número de hermanos/cónyuges:</label><br>
        <input type="number" id="SibSp" name="SibSp" required><br><br>

        <label for="Title">Título (Mr, Mrs, etc.):</label><br>
        <input type="text" id="Title" name="Title" required><br><br>

        <label for="FamilySize">Tamaño de la familia:</label><br>
        <input type="number" id="FamilySize" name="FamilySize" required><br><br>

        <button type="submit">Predecir</button>
    </form>

    <div id="result"></div>

    <script>
    const form = document.getElementById('predictForm');
    const resultDiv = document.getElementById('result');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(form);

        const response = await fetch('/predict', {
            method: 'POST',
            body: formData
        });

        const data = await response.json();

        if (response.ok) {
            resultDiv.innerHTML = `<h3>Predicción: ${data.prediccion}</h3>`;
        } else {
            resultDiv.innerHTML = `<p style="color:red;">Error: ${data.error}</p>`;
        }
    });
    </script>
</body>
</html>
